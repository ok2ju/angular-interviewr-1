<div class="filter">
  <div class="filter-group">
    <ui-select ng-model="vm.category.name" theme="selectize" ng-disabled="disabled">
      <ui-select-match placeholder="Category">{{$select.selected.name}}</ui-select-match>
      <ui-select-choices repeat="category.name as category in vm.categories | filter: $select.search">
        <span ng-bind-html="category.name | highlight: $select.search"></span>
      </ui-select-choices>
    </ui-select>
  </div>
  <div class="filter-group">
    <div class="filter-group-input">
      <input ng-model="vm.company.name" type="text" class="ui selection dropdown" placeholder="all">
    </div>
  </div>
  <div class="filter-group">
    <ui-select ng-model="vm.country.name" theme="selectize" ng-disabled="disabled">
      <ui-select-match placeholder="Country">{{$select.selected.name}}</ui-select-match>
      <ui-select-choices repeat="country.name as country in vm.countries | filter: $select.search">
        <span ng-bind-html="country.name | highlight: $select.search"></span>
      </ui-select-choices>
    </ui-select>
  </div>
  <a ng-click="vm.resetFilter()" class="btn btn-sm btn-default">Reset</a>
</div>
<div class="company-card" ng-repeat="company in vm.companies | filter:{category: vm.category.name, location: vm.country.name, name: vm.company.name}">
  <div class="company-card__image">
    <img ng-src="{{vm.getImageUrl(company)}}" alt="company photo">
  </div>
  <div class="company-card__body">
    <a ui-sref="app.companyProfile({id:company._id})" class="company-card__header">{{company.name}}</a>
    <div class="company-card__meta">
      <a href="#">{{company.creation_date | moment: 'DD.MM.YYYY'}}</a>
      <a href="#">{{company.category}}</a>
    </div>
    <div class="company-card__description">{{company.short_description}}</div>
    <div class="company-card__extra">
      <div class="company-more-btn" ui-sref="app.companyProfile({id:company._id})">More</div>
      <div class="company-owner">
        <a ui-sref="app.userProfile({id: company.owner._id})">
          <img ng-src="{{vm.getUserImageUrl(company.owner)}}" alt="">
          <span>{{company.owner.username}}</span>
        </a>
      </div>
    </div>
  </div>
</div>
